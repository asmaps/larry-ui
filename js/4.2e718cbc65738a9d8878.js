webpackJsonp([4],{"L0d/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("ytdl"),i=n.n(o),s={components:{},data:function(){return{tokenValid:!1}},computed:{routeToken:function(){return this.$route.params.token},tokenData:function(){try{return i()(this.routeToken)}catch(t){return{invalid:!0,message:t.message}}}},watch:{tokenData:{handler:function(t,e){if(console.log({val:t,oldVal:e}),t!==e)if(t.invalid||!t.username)this.tokenValid=!1;else{var n=this;this.$http.get("/uploads",{headers:{Authorization:"Bearer "+this.routeToken}}).then(function(t){n.tokenValid=!0,n.$store.commit("user/setAuthToken",{authToken:n.routeToken}),window.close()}).catch(function(t){console.warn(t),n.tokenValid=!1})}},immediate:!0}}},a=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.tokenValid?e("div",[e("h6",{staticClass:"text-success"},[this._v("you have successfully logged in. You can close this window now!")])]):e("div",[e("h6",{staticClass:"text-negative"},[this._v("Received an invalid token!")]),this._v(" "),e("p",[this._v(this._s(this.tokenData.message))])])])},r=[];a._withStripped=!0;var c=n("XyMi"),u=!1;var l=function(t){u||n("tGV+")},h=Object(c.a)(s,a,r,!1,l,"data-v-2b446583",null);h.options.__file="src/pages/FetchToken.vue";e.default=h.exports},Sz0M:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},"tGV+":function(t,e,n){var o=n("Sz0M");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("rjj0").default)("1f7e0a01",o,!1,{})}});